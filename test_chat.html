<style type='text/css'>
    .embeddedServiceHelpButton .helpButton .uiButton {
        background-color: #005290;
        font-family: "Arial", sans-serif;
        max-width: none;
        max-height: none;
    }
    .embeddedServiceHelpButton .helpButton .uiButton:hover {
        background-color: #024579;
        box-shadow: 0 0 30px 0 rgb(0 0 0 / 50%);
    }
    .embeddedServiceHelpButton .uiButton .helpButtonLabel .message {
        background-color: transparent!important;
    }
    .headerAnnouncement[embeddedService-chatHeader_chatHeader], .loadingAnimation[embeddedService-chatHeader_chatHeader], .sidebarHeader[embeddedService-chatHeader_chatHeader] {
        background-color: #005290;
    }
    img[embeddedService-chatHeader_chatHeader]{
        border-radius: 20%;
    }
    .embeddedServiceSidebarMinimizedDefaultUI.helpButton {
        background-color: #005290!important;
        border-color: #005290!important;
        border-width: 0px;
        max-width: none;
        max-height: none;
    }
    .embeddedServiceSidebarMinimizedDefaultUI.helpButton:hover {
        background-color: #024579!important;
        box-shadow: 0 0 30px 0 rgb(0 0 0 / 50%);
    }
    .embeddedServiceSidebarMinimizedDefaultUI.helpButton .message {
        background-color: transparent!important;
    }
</style>

<script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
<script type='text/javascript'>
    var initESW = function(gslbBaseURL) {
        var language = 'en';
        var enlace = 'https://www.google.com';
        var minimizedMap = [];
        minimizedMap['es'] = 'Hable con un agente';
        minimizedMap['en'] = 'Speak to an agent';
        minimizedMap['pt_PT'] = 'Contacte um agente';
        minimizedMap['ca'] = 'Parli amb un agent';
        var linkMap = [];
        linkMap['es'] = 'enlace';
        linkMap['en'] = 'link';
        linkMap['pt_PT'] = 'link';
        linkMap['ca'] = 'enllaç';
        var loading = [];
        loading['es'] = 'Cargando...';
        loading['en'] = 'Loading...';
        loading['pt_PT'] = 'Carregando';
        loading['ca'] = 'Carregant...';
        var disabledMap = [];
        disabledMap['es'] = '<div>Horario de atención: de l-v, de 9-17 h<br/>Si lo desea, puede dejar su consulta en este <a href=' + enlace + ' style=\"color:white;\" target=\"_blank\">' + linkMap[language]+ '</a></div>';
        disabledMap['en'] = '<div>Open: Mon-Fri, 9am-5pm<br/>If you wish, you can send your query via this <a href=' + enlace + ' style=\"color:white;\" target=\"_blank\">' + linkMap[language]+ '</a></div>';
        disabledMap['pt_PT'] = '<div>Horário de atendimento: segundas e quintas, das 9h00 às 12h00<br/>Se desejar, poderá deixar-nos a sua consulta neste <a href=' + enlace + ' style=\"color:white;\" target=\"_blank\">' + linkMap[language]+ '</a></div>';
        disabledMap['ca'] = '<div>Horari d\'atenció: de dl-dv, de 9 a 17 h<br/>Si ho desitja, pot indicar la seva consulta en aquest <a href=' + enlace + ' style=\"color:white;\" target=\"_blank\">' + linkMap[language]+ '</a></div>';
        
        embedded_svc.settings.displayHelpButton = true; //Or false
        embedded_svc.settings.language = language; //For example, enter 'en' or 'en-US'
        embedded_svc.settings.disabledMinimizedText = disabledMap[language];
        embedded_svc.settings.defaultMinimizedText = minimizedMap[language];
        embedded_svc.settings.loadingText = loading[language];


        embedded_svc.settings.extraPrechatFormDetails = [{
            "label": "name",
            "value": "PRUEBA",
            "displayToAgent": false
        }, {
            "label": "estado__c",
            "value": "REGISTRADO",
            "displayToAgent": false
        }, {
            "label": "fuenteId__c",
            "value": "a0c1x0000039LSOAA2",
            "displayToAgent": false
        }, {
            "label": "variableConsentimientoId__c",
            "value": "a0r1x00000CDwUaAAL",
            "displayToAgent": false
        }, {
            "label": "consentimientoExtId__c",
            "value": "EXTID",
            "displayToAgent": false
        }, {
            "label": "personaIdFuente__c",
            "value": "salesforce",
            "displayToAgent": false
        }, {
            "label": "personaTablaFuente__c",
            "value": "contact",
            "displayToAgent": false
        }, {
            "label": "contactoId__c",
            "value": "0031x0000176Jm3AAE",
            "displayToAgent": true
        }, {
            "label": "language",
            "value": language.substring(0, 2),
            "displayToAgent": true
        }, {
            "label": "Origin",
            "value": "Chat",
            "displayToAgent": false
        }, {
            "label": "OAC_fld_origenFormularioChat__c",
            "value": "WebEduCaixa",
            "displayToAgent": false
        }];

        embedded_svc.settings.extraPrechatInfo = [{
            "entityFieldMaps": [{
                "doCreate": true,
                "doFind": false,
                "fieldName": "Name",
                "isExactMatch": true,
                "label": "name"
            }, {
                "doCreate": true,
                "doFind": false,
                "fieldName": "estado__c",
                "isExactMatch": true,
                "label": "estado__c"
            }, {
                "doCreate": true,
                "doFind": false,
                "fieldName": "fuenteId__c",
                "isExactMatch": true,
                "label": "fuenteId__c"
            }, {
                "doCreate": true,
                "doFind": false,
                "fieldName": "variableConsentimientoId__c",
                "isExactMatch": true,
                "label": "variableConsentimientoId__c"
            }, {
                "doCreate": true,
                "doFind": false,
                "fieldName": "consentimientoExtId__c",
                "isExactMatch": true,
                "label": "consentimientoExtId__c"
            }, {
                "doCreate": true,
                "doFind": false,
                "fieldName": "personaIdFuente__c",
                "isExactMatch": true,
                "label": "personaIdFuente__c"
            }, {
                "doCreate": true,
                "doFind": false,
                "fieldName": "personaTablaFuente__c",
                "isExactMatch": true,
                "label": "personaTablaFuente__c"
            }, {
                "doCreate": true,
                "doFind": false,
                "fieldName": "contactoId__c",
                "isExactMatch": true,
                "label": "contactoId__c"
            }],
            "entityName": "LogConsentimiento__c",
            "showOnCreate": false
        }, {
            "entityFieldMaps": [{
                "doCreate":true,
                "doFind":true,
                "fieldName":"LastName",
                "isExactMatch":true,
                "label":"Last Name"
            }, {
                "doCreate":true,
                "doFind":true,
                "fieldName":"FirstName",
                "isExactMatch":true,
                "label":"First Name"
            }, {
                "doCreate":true,
                "doFind":true,
                "fieldName":"Email",
                "isExactMatch":true,
                "label":"Email"
            }],
            "entityName": "Contact",
            "linkToEntityName": "LogConsentimiento__c",
            "linkToEntityField": "contactoId__c",
            "showOnCreate": true
        },       
        {
            "entityName": "Case",
            "entityFieldMaps": [{
                "isExactMatch": false,
                "fieldName": "Subject",
                "doCreate": true,
                "doFind": false,
                "label": "issue"
            }, {
                "isExactMatch": false,
                "fieldName": "Origin",
                "doCreate": true,
                "doFind": false,
                "label": "Origin"
            }, {
                "isExactMatch": false,
                "fieldName": "FLC_fld_idioma__c",
                "doCreate": true,
                "doFind": false,
                "label": "language"
            }, {
                "isExactMatch": false,
                "fieldName": "Origin",
                "doCreate": true,
                "doFind": false,
                "label": "Origin"
            }, {
                "isExactMatch": false,
                "fieldName": "OAC_fld_origenFormularioChat__c",
                "doCreate": true,
                "doFind": false,
                "label": "OAC_fld_origenFormularioChat__c"
            },]
        }];
        

        embedded_svc.settings.enabledFeatures = ['LiveAgent'];
        embedded_svc.settings.entryFeature = 'LiveAgent';

        embedded_svc.init(
            'https://fblc--admindev.my.salesforce.com',
            'https://admindev-comunidadcrmdefundacion.cs100.force.com',
            gslbBaseURL,
            '00D1x0000008h09',
            'Grupo_Live_Chat',
            {
                baseLiveAgentContentURL: 'https://c.la1-c1cs-fra.salesforceliveagent.com/content',
                deploymentId: '5721x00000000rY',
                buttonId: '5731x00000000eg',
                baseLiveAgentURL: 'https://d.la1-c1cs-fra.salesforceliveagent.com/chat',
                eswLiveAgentDevName: 'Grupo_Live_Chat',
                isOfflineSupportEnabled: false
            }
        );
    };

    if (!window.embedded_svc) {
        var s = document.createElement('script');
        s.setAttribute('src', 'https://fblc--admindev.my.salesforce.com/embeddedservice/5.0/esw.min.js');
        s.onload = function() {
            initESW(null);
        };
        document.body.appendChild(s);
    } else {
        initESW('https://service.force.com');
    }
</script>
